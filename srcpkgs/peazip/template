# Template file for 'peazip'
pkgname=peazip
version=10.9.0
revision=1
archs="x86_64"
depends="desktop-file-utils hicolor-icon-theme"
short_desc="Free file archiver utility"
maintainer="Orphaned <orphan@voidlinux.org>"
license="LGPL-3.0-or-later"
homepage="https://peazip.github.io"
distfiles="https://github.com/peazip/PeaZip/releases/download/${version}/peazip_${version}.LINUX.GTK2-1_amd64.deb"
checksum=fc057dd6abbc42db697e33286c6f01013453a98c432a327752700d23bff11570
allow_unknown_shlibs=yes
nostrip=yes

post_extract() {
	rm -r share/peazip/batch/Windows
	rm -r "share/peazip/batch/macOS service menus"
	rm -r share/peazip/batch/bat
	rm -r share/peazip/lang-wincontext/
	rm -r share/peazip/readme/readme_Windows.txt
	rm -r share/peazip/readme/readme_macOS.txt
}

do_install() {
	vinstall share/applications/peazip.desktop 0644 \
		usr/share/applications

	vmkdir usr/lib
	vcopy lib/peazip usr/lib

	vmkdir usr/bin
	ln -s /lib/peazip/peazip ${DESTDIR}/usr/bin/peazip

	vcopy share usr
}
